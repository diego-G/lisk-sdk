{
	"title": "Invalid block processing",
	"summary": "An invalid block with a second delegate registration",
	"config": "mainnet",
	"runner": "block_processing_delegate",
	"handler": "invalid_block_processing_second_delegate_registration_tx",
	"testCases": {
		"initialState": {
			"chain": [
				{
					"version": 1,
					"totalAmount": "5000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 10,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"previousBlock": "6524861224470851795",
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "16830557168072222650",
							"amount": "5000000000",
							"type": 0,
							"timestamp": 103045561,
							"senderPublicKey": "c094ebee7ec0c50ebee32918655e089f6e1a604b83bcaa760293c61e0f18ab6f",
							"senderId": "16313739661670634666L",
							"recipientId": "10881167371402274308L",
							"fee": "10000000",
							"signature": "e040ff759eb12874b8a97cee873647af12c012b2c8075f06a4bdf6d83ba30f4a2422248c0914eb5003c16923a7cefeb7fb15bc568bca9a2b0195edddb650930b",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "ba67d97e922692e9b2c0e66af5121035bdeda3fc4e0b43a2fa634cb64ac2e267",
					"blockSignature": "10057441759281862549a09af60dac68870e825c1bc62a6d9a60bb6ce9b0169bb69928d2fc3b74e49f65b6eb4bc82773c91a543db71702ca6fc852791e3f9902",
					"height": 2
				},
				{
					"version": 1,
					"totalAmount": "3000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 20,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "10981583186471817038",
							"amount": "3000000000",
							"type": 0,
							"timestamp": 103045561,
							"senderPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
							"senderId": "10881167371402274308L",
							"recipientId": "2222471382442610527L",
							"fee": "10000000",
							"signature": "73d981bc0e5bddaeedfe1e7804c98ecd6f0e48bd96cf29660ae3031ca86afd9b5f6a4df81b68e465e2a4d36a563be705cf1abb9d6f34712e5cbe463c94cb1504",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "4e0f0ea5b96b6698fb72084b4a708baf84524d87963126ef2562a4e786e84f43",
					"blockSignature": "44fd854259adefe4ec1ab2b834db6a330bc354c0063a7fcf1a9a52d0b544127ef5cb67cbd61980ada28092433c1224ba9f0aae7605f1ab65009407812313b40d",
					"height": 3
				},
				{
					"version": 1,
					"totalAmount": "0",
					"totalFee": "2500000000",
					"reward": "0",
					"timestamp": 30,
					"numberOfTransactions": 1,
					"payloadLength": 126,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "8720296781012104290",
							"amount": "0",
							"type": 2,
							"timestamp": 103045561,
							"senderPublicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
							"senderId": "2222471382442610527L",
							"recipientId": "",
							"fee": "2500000000",
							"signature": "c2cf2d597bea18adfd87f9f45f2a2263b986db80b45a047a417c61f864d0c5a1edc5b2e39bf3e5be8bc79d0f5a696422292945084e886a535ef598a94c741b0c",
							"signatures": [],
							"asset": {
								"delegate": {
									"username": "RadioHead"
								}
							}
						}
					],
					"payloadHash": "62743560b8b7047940ee6797bac04c4e5b1011330816bdbcdd23502c60928833",
					"blockSignature": "e6f483e4285176275c8ae47eed0da793ad83abb2f4ae12d0ded8fb352be04629bceb52a02ce84452c2f586b93b31d1195adb19877a130bac1278db346080710e",
					"height": 4
				},
				{
					"version": 1,
					"totalAmount": "0",
					"totalFee": "0",
					"reward": "0",
					"timestamp": 40,
					"numberOfTransactions": 0,
					"payloadLength": 0,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [],
					"payloadHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
					"blockSignature": "25ce1fd7028225e636ebc7c12efe1cdbca9b946794a25a39162f613850cdebe8f498043514f4e72c4be14371ae25113c27982d01394dd63aa37625b05da59f03",
					"height": 5
				}
			],
			"accounts": [
				{
					"address": "16313739661670634666L",
					"publicKey": "c094ebee7ec0c50ebee32918655e089f6e1a604b83bcaa760293c61e0f18ab6f",
					"secondPublicKey": null,
					"username": null,
					"isDelegate": false,
					"secondSignature": false,
					"balance": 9999899990000000,
					"multiMin": 0,
					"multiLifetime": 0,
					"nameExist": false,
					"missedBlocks": 0,
					"producedBlocks": 0,
					"rank": null,
					"fees": 0,
					"rewards": 0,
					"vote": 0,
					"productivity": 0
				},
				{
					"address": "10881167371402274308L",
					"publicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"secondPublicKey": null,
					"username": "genesis_100",
					"isDelegate": true,
					"secondSignature": false,
					"balance": 0,
					"multiMin": 0,
					"multiLifetime": 0,
					"nameExist": false,
					"missedBlocks": 1,
					"producedBlocks": 0,
					"rank": 70,
					"fees": 0,
					"rewards": 0,
					"vote": 9999899990000000,
					"productivity": 0
				}
			]
		},
		"input": [
			{
				"version": 1,
				"totalAmount": "0",
				"totalFee": "2500000000",
				"reward": "0",
				"timestamp": 30,
				"numberOfTransactions": 1,
				"payloadLength": 126,
				"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
				"transactions": [
					{
						"id": "8720296781012104290",
						"amount": "0",
						"type": 2,
						"timestamp": 103045561,
						"senderPublicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
						"senderId": "2222471382442610527L",
						"recipientId": "",
						"fee": "2500000000",
						"signature": "c2cf2d597bea18adfd87f9f45f2a2263b986db80b45a047a417c61f864d0c5a1edc5b2e39bf3e5be8bc79d0f5a696422292945084e886a535ef598a94c741b0c",
						"signatures": [],
						"asset": {
							"delegate": {
								"username": "RadioHead"
							}
						}
					}
				],
				"payloadHash": "62743560b8b7047940ee6797bac04c4e5b1011330816bdbcdd23502c60928833",
				"blockSignature": "e6f483e4285176275c8ae47eed0da793ad83abb2f4ae12d0ded8fb352be04629bceb52a02ce84452c2f586b93b31d1195adb19877a130bac1278db346080710e",
				"height": 4
			},
			{
				"version": 1,
				"totalAmount": "0",
				"totalFee": "0",
				"reward": "0",
				"timestamp": 40,
				"numberOfTransactions": 0,
				"payloadLength": 0,
				"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
				"transactions": [],
				"payloadHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
				"blockSignature": "25ce1fd7028225e636ebc7c12efe1cdbca9b946794a25a39162f613850cdebe8f498043514f4e72c4be14371ae25113c27982d01394dd63aa37625b05da59f03",
				"height": 5
			}
		],
		"output": {
			"chain": [
				{
					"version": 1,
					"totalAmount": "5000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 10,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"previousBlock": "6524861224470851795",
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "16830557168072222650",
							"amount": "5000000000",
							"type": 0,
							"timestamp": 103045561,
							"senderPublicKey": "c094ebee7ec0c50ebee32918655e089f6e1a604b83bcaa760293c61e0f18ab6f",
							"senderId": "16313739661670634666L",
							"recipientId": "10881167371402274308L",
							"fee": "10000000",
							"signature": "e040ff759eb12874b8a97cee873647af12c012b2c8075f06a4bdf6d83ba30f4a2422248c0914eb5003c16923a7cefeb7fb15bc568bca9a2b0195edddb650930b",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "ba67d97e922692e9b2c0e66af5121035bdeda3fc4e0b43a2fa634cb64ac2e267",
					"blockSignature": "10057441759281862549a09af60dac68870e825c1bc62a6d9a60bb6ce9b0169bb69928d2fc3b74e49f65b6eb4bc82773c91a543db71702ca6fc852791e3f9902",
					"height": 2
				},
				{
					"version": 1,
					"totalAmount": "3000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 20,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "10981583186471817038",
							"amount": "3000000000",
							"type": 0,
							"timestamp": 103045561,
							"senderPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
							"senderId": "10881167371402274308L",
							"recipientId": "2222471382442610527L",
							"fee": "10000000",
							"signature": "73d981bc0e5bddaeedfe1e7804c98ecd6f0e48bd96cf29660ae3031ca86afd9b5f6a4df81b68e465e2a4d36a563be705cf1abb9d6f34712e5cbe463c94cb1504",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "4e0f0ea5b96b6698fb72084b4a708baf84524d87963126ef2562a4e786e84f43",
					"blockSignature": "44fd854259adefe4ec1ab2b834db6a330bc354c0063a7fcf1a9a52d0b544127ef5cb67cbd61980ada28092433c1224ba9f0aae7605f1ab65009407812313b40d",
					"height": 3
				},
				{
					"version": 1,
					"totalAmount": "0",
					"totalFee": "2500000000",
					"reward": "0",
					"timestamp": 30,
					"numberOfTransactions": 1,
					"payloadLength": 126,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [
						{
							"id": "8720296781012104290",
							"amount": "0",
							"type": 2,
							"timestamp": 103045561,
							"senderPublicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
							"senderId": "2222471382442610527L",
							"recipientId": "",
							"fee": "2500000000",
							"signature": "c2cf2d597bea18adfd87f9f45f2a2263b986db80b45a047a417c61f864d0c5a1edc5b2e39bf3e5be8bc79d0f5a696422292945084e886a535ef598a94c741b0c",
							"signatures": [],
							"asset": {
								"delegate": {
									"username": "RadioHead"
								}
							}
						}
					],
					"payloadHash": "62743560b8b7047940ee6797bac04c4e5b1011330816bdbcdd23502c60928833",
					"blockSignature": "e6f483e4285176275c8ae47eed0da793ad83abb2f4ae12d0ded8fb352be04629bceb52a02ce84452c2f586b93b31d1195adb19877a130bac1278db346080710e",
					"height": 4
				},
				{
					"version": 1,
					"totalAmount": "0",
					"totalFee": "0",
					"reward": "0",
					"timestamp": 40,
					"numberOfTransactions": 0,
					"payloadLength": 0,
					"generatorPublicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"transactions": [],
					"payloadHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
					"blockSignature": "25ce1fd7028225e636ebc7c12efe1cdbca9b946794a25a39162f613850cdebe8f498043514f4e72c4be14371ae25113c27982d01394dd63aa37625b05da59f03",
					"height": 5
				}
			],
			"accounts": [
				{
					"address": "16313739661670634666L",
					"publicKey": "c094ebee7ec0c50ebee32918655e089f6e1a604b83bcaa760293c61e0f18ab6f",
					"secondPublicKey": null,
					"username": null,
					"isDelegate": false,
					"secondSignature": false,
					"balance": 9999894990000000,
					"multiMin": 0,
					"multiLifetime": 0,
					"nameExist": false,
					"missedBlocks": 0,
					"producedBlocks": 0,
					"rank": null,
					"fees": 0,
					"rewards": 0,
					"vote": 0,
					"productivity": 0
				},
				{
					"address": "10881167371402274308L",
					"publicKey": "addb0e15a44b0fdc6ff291be28d8c98f5551d0cd9218d749e30ddb87c6e31ca9",
					"secondPublicKey": null,
					"username": "genesis_100",
					"isDelegate": true,
					"secondSignature": false,
					"balance": 2000000000,
					"multiMin": 0,
					"multiLifetime": 0,
					"nameExist": false,
					"missedBlocks": 1,
					"producedBlocks": 0,
					"rank": 70,
					"fees": 0,
					"rewards": 0,
					"vote": 9999899990000000,
					"productivity": 0
				},
				{
					"address": "2222471382442610527L",
					"publicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
					"secondPublicKey": null,
					"username": "RadioHead",
					"isDelegate": true,
					"secondSignature": false,
					"balance": -2000000000,
					"multiMin": 0,
					"multiLifetime": 0,
					"nameExist": false,
					"missedBlocks": 0,
					"producedBlocks": 0,
					"rank": 0,
					"fees": 0,
					"rewards": 0,
					"vote": 0,
					"productivity": 0
				}
			]
		}
	}
}
