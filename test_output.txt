
> lisk@0.9.8 test /Users/manu/Projects/lisk
> grunt "mocha:untagged:unit"

Running "mocha:untagged:unit" (mocha) task

Running "exec:mocha:untagged:unit" (exec) task
Running the test: test/unit/api/fittings/lisk_cache.js as a separate process - pid 90531
Running the test: test/unit/api/fittings/lisk_compression.js as a separate process - pid 90532
Running the test: test/unit/api/fittings/lisk_cors.js as a separate process - pid 90533
Running the test: test/unit/api/fittings/lisk_error_handler.js as a separate process - pid 90534
Running the test: test/unit/api/fittings/lisk_params_validator.js as a separate process - pid 90535
Running the test: test/unit/api/fittings/lisk_request_limit.js as a separate process - pid 90536
Running the test: test/unit/api/fittings/lisk_response_formatter.js as a separate process - pid 90537
Running the test: test/unit/api/ws/workers/connections_table.js as a separate process - pid 90538
Running the test: test/unit/api/ws/workers/peers_update_rules.js as a separate process - pid 90539
Running the test: test/unit/api/ws/workers/rules.js as a separate process - pid 90540
Running the test: test/unit/api/ws/workers/slave_to_master_sender.js as a separate process - pid 90541
Running the test: test/unit/db/repos/accounts.js as a separate process - pid 90542
Running the test: test/unit/helpers/RPC.js as a separate process - pid 90543
Running the test: test/unit/helpers/api_error.js as a separate process - pid 90544
Running the test: test/unit/helpers/bignum.js as a separate process - pid 90545
Running the test: test/unit/helpers/cache.js as a separate process - pid 90546
Running the test: test/unit/helpers/check_ip_in_list.js as a separate process - pid 90547
Running the test: test/unit/helpers/ed.js as a separate process - pid 90548
Running the test: test/unit/helpers/git.js as a separate process - pid 90549
Running the test: test/unit/helpers/http_api.js as a separate process - pid 90550
[2J[1;3H
[2J  0 passing (5ms)
  6 pending

[1;3H>> No coverage information was collected, exit without writing coverage information

  0 passing (22ms)
  6 pending

[2J>> No coverage information was collected, exit without writing coverage information
[1;3H
Test finished successfully: test/unit/api/fittings/lisk_cache.js
Running the test: test/unit/helpers/jobs_queue.js as a separate process - pid 90552
Test finished successfully: test/unit/api/fittings/lisk_params_validator.js
[2J[1;3HRunning the test: test/unit/helpers/peers_manager.js as a separate process - pid 90553
  0 passing (6ms)
  6 pending

>> No coverage information was collected, exit without writing coverage information
Test finished successfully: test/unit/api/fittings/lisk_error_handler.js
Running the test: test/unit/helpers/promise_defer.js as a separate process - pid 90554

  0 passing (66ms)
  5 pending

>> No coverage information was collected, exit without writing coverage information
Test finished successfully: test/unit/api/fittings/lisk_response_formatter.js
Running the test: test/unit/helpers/round_changes.js as a separate process - pid 90555
[2J[1;3H
  0 passing (37ms)
  4 pending

>> No coverage information was collected, exit without writing coverage information
Test finished successfully: test/unit/api/fittings/lisk_compression.js
Running the test: test/unit/helpers/slots.js as a separate process - pid 90556
[2J[1;3H[2J[1;3H[2J[1;3H
  9 passing (175ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90533.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

  2 passing (30ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90549.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H[2J[1;3H
  25 passing (154ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90538.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H[2J[1;3H
  10 passing (151ms)


  5 passing (54ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90541.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90544.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H>> CheckIpInList: Error: invalid CIDR subnet: shzduvsg

  8 passing (132ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90547.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
  6 passing (136ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90540.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
[2J  12 passing (106ms)

[1;3H>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90548.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 100% ( 10/10 )
Branches     : 100% ( 0/0 )
Functions    : 100% ( 2/2 )
Lines        : 100% ( 10/10 )
================================================================================

=============================== Coverage summary ===============================
Statements   : 100% ( 8/8 )
Branches     : 100% ( 2/2 )
Functions    : 100% ( 1/1 )
Lines        : 100% ( 8/8 )
================================================================================
Test finished successfully: test/unit/helpers/git.js
Running the test: test/unit/helpers/sort_by.js as a separate process - pid 90562

  8 passing (160ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90546.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
Test finished successfully: test/unit/api/fittings/lisk_cors.js
Running the test: test/unit/helpers/ws_api.js as a separate process - pid 90564

  14 passing (265ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90545.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 100% ( 10/10 )
Branches     : 100% ( 2/2 )
Functions    : 100% ( 3/3 )
Lines        : 100% ( 10/10 )
================================================================================
Test finished successfully: test/unit/api/ws/workers/slave_to_master_sender.js
Running the test: test/unit/helpers/z_schema.js as a separate process - pid 90565
>> Trace: { message: 'validError' }
>>     at Function.invoke (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:193:47)
>>     at Console.proxy (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:89:22)
>>     at Object.errorLogger (/Users/manu/Projects/lisk/helpers/http_api.js:9:1067)
>>     at Context.done (/Users/manu/Projects/lisk/test/unit/helpers/http_api.js:126:24)
>>     at callFnAsync (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:377:21)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:324:7)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/co-mocha/lib/co-mocha.js:42:16)
>>     at next (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:304:10)
>>     at Immediate.<anonymous> (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:334:5)
>>     at runCallback (timers.js:672:20)
>>     at tryOnImmediate (timers.js:645:5)
>>     at processImmediate [as _immediateCallback] (timers.js:617:5)
>> Trace: { message: 'validError' }
>>     at Function.invoke (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:193:47)
>>     at Console.proxy (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:89:22)
>>     at Object.errorLogger (/Users/manu/Projects/lisk/helpers/http_api.js:9:1067)
>>     at Context.done (/Users/manu/Projects/lisk/test/unit/helpers/http_api.js:126:24)
>>     at callFnAsync (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:377:21)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:324:7)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/co-mocha/lib/co-mocha.js:42:16)
>>     at next (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:304:10)
>>     at Immediate.<anonymous> (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:334:5)
>>     at runCallback (timers.js:672:20)
>>     at tryOnImmediate (timers.js:645:5)
>>     at processImmediate [as _immediateCallback] (timers.js:617:5)
>> Trace: { message: 'validError' }
>>     at Function.invoke (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:193:47)
>>     at Console.proxy (/Users/manu/Projects/lisk/node_modules/sinon/lib/sinon/spy.js:89:22)
>>     at Object.errorLogger (/Users/manu/Projects/lisk/helpers/http_api.js:9:1067)
>>     at Context.done (/Users/manu/Projects/lisk/test/unit/helpers/http_api.js:126:24)
>>     at callFnAsync (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:377:21)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/mocha/lib/runnable.js:324:7)
>>     at Hook.Runnable.run (/Users/manu/Projects/lisk/node_modules/co-mocha/lib/co-mocha.js:42:16)
>>     at next (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:304:10)
>>     at Immediate.<anonymous> (/Users/manu/Projects/lisk/node_modules/mocha/lib/runner.js:334:5)
>>     at runCallback (timers.js:672:20)
>>     at tryOnImmediate (timers.js:645:5)
>>     at processImmediate [as _immediateCallback] (timers.js:617:5)

=============================== Coverage summary ===============================
Statements   : 100% ( 23/23 )
Branches     : 100% ( 6/6 )
Functions    : 100% ( 5/5 )
Lines        : 100% ( 23/23 )
================================================================================
Test finished successfully: test/unit/api/ws/workers/connections_table.js
Running the test: test/unit/helpers/z_schema_express.js as a separate process - pid 90567

  27 passing (307ms)
  19 pending

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90550.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 100% ( 7/7 )
Branches     : 100% ( 0/0 )
Functions    : 100% ( 2/2 )
Lines        : 100% ( 7/7 )
================================================================================

=============================== Coverage summary ===============================
Statements   : 96.43% ( 27/28 )
Branches     : 93.75% ( 15/16 )
Functions    : 100% ( 1/1 )
Lines        : 96.43% ( 27/28 )
================================================================================
Test finished successfully: test/unit/helpers/api_error.js
Running the test: test/unit/logic/account.js as a separate process - pid 90570
Test finished successfully: test/unit/helpers/check_ip_in_list.js
Running the test: test/unit/logic/block.js as a separate process - pid 90571
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 100% ( 10/10 )
Branches     : 100% ( 0/0 )
Functions    : 100% ( 3/3 )
Lines        : 100% ( 10/10 )
================================================================================
Test finished successfully: test/unit/helpers/ed.js
Running the test: test/unit/logic/block_reward.js as a separate process - pid 90573

=============================== Coverage summary ===============================
Statements   : 89.19% ( 33/37 )
Branches     : 100% ( 0/0 )
Functions    : 33.33% ( 1/3 )
Lines        : 89.19% ( 33/37 )
================================================================================
Test finished successfully: test/unit/api/ws/workers/rules.js
Running the test: test/unit/logic/dapp.js as a separate process - pid 90575

  17 passing (117ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90543.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 100% ( 18/18 )
Branches     : 75% ( 6/8 )
Functions    : 100% ( 1/1 )
Lines        : 100% ( 18/18 )
================================================================================
Test finished successfully: test/unit/helpers/cache.js
Running the test: test/unit/logic/delegate.js as a separate process - pid 90576

=============================== Coverage summary ===============================
Statements   : 89.55% ( 60/67 )
Branches     : 74% ( 37/50 )
Functions    : 100% ( 2/2 )
Lines        : 89.23% ( 58/65 )
================================================================================
Test finished successfully: test/unit/helpers/bignum.js
Running the test: test/unit/logic/in_transfer.js as a separate process - pid 90578

=============================== Coverage summary ===============================
Statements   : 51.06% ( 48/94 )
Branches     : 29.63% ( 16/54 )
Functions    : 66.67% ( 12/18 )
Lines        : 51.06% ( 48/94 )
================================================================================
Test finished successfully: test/unit/helpers/http_api.js
Running the test: test/unit/logic/multisignature.js as a separate process - pid 90581

=============================== Coverage summary ===============================
Statements   : 48.35% ( 88/182 )
Branches     : 17.78% ( 8/45 )
Functions    : 21.62% ( 8/37 )
Lines        : 48.89% ( 88/180 )
================================================================================
Test finished successfully: test/unit/helpers/RPC.js
Running the test: test/unit/logic/out_transfer.js as a separate process - pid 90585

  7 passing (2s)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90536.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 88.57% ( 31/35 )
Branches     : 83.33% ( 5/6 )
Functions    : 50% ( 3/6 )
Lines        : 88.57% ( 31/35 )
================================================================================
Test finished successfully: test/unit/api/fittings/lisk_request_limit.js
Running the test: test/unit/logic/peer.js as a separate process - pid 90590
[2J[1;3Hdatabase connect exception -  Error: Event monitor not attached.
  at Object.detach (/Users/manu/Projects/lisk/node_modules/pg-monitor/lib/index.js:352:19)
  at Object.module.exports.connect.ex [as connect] (/Users/manu/Projects/lisk/db/index.js:9:797)
  at child_process.exec (/Users/manu/Projects/lisk/test/common/db_sandbox.js:69:6)
  at ChildProcess.exithandler (child_process.js:190:7)
  at emitTwo (events.js:106:13)
  at ChildProcess.emit (events.js:191:7)
  at maybeClose (internal/child_process.js:920:16)
  at Process.ChildProcess._handle.onexit (internal/child_process.js:230:5)

>> NOTICE:  view "blocks_list" does not exist, skipping
>> NOTICE:  view "full_blocks_list" does not exist, skipping
>> NOTICE:  view "trs_list" does not exist, skipping
>> NOTICE:  trigger "protect_mem_accounts" for relation "mem_accounts" does not exist, skipping
>> NOTICE:  function revert_mem_account() does not exist, skipping
>> NOTICE:  ALTER TABLE / ADD CONSTRAINT USING INDEX will rename index "peers_unique" to "address_unique"
>> NOTICE:  function rounds_fees_init() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_delete" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_delete() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_insert" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_insert() does not exist, skipping
>> NOTICE:  Calculating fees for rounds, please wait...
>> NOTICE:  index "peers_dapp_unique" does not exist, skipping
>> NOTICE:  Calculating rewards for rounds, please wait...
[2J[1;3H[2J[1;3H[2J[1;3H[2J[1;3H
  2 passing (20ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90556.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

  7 passing (150ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90555.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
error error: column "unknownField" does not exist
error query: SELECT (upper(address)) AS "address" FROM "mem_accounts"   ORDER BY "unknownField" DESC   LIMIT 10 OFFSET 0

=============================== Coverage summary ===============================
Statements   : 25% ( 7/28 )
Branches     : 0% ( 0/6 )
Functions    : 10% ( 1/10 )
Lines        : 25% ( 7/28 )
================================================================================
Test finished successfully: test/unit/helpers/slots.js
Running the test: test/unit/logic/peers.js as a separate process - pid 90608
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 21.43% ( 24/112 )
Branches     : 6.25% ( 4/64 )
Functions    : 14.29% ( 2/14 )
Lines        : 21.82% ( 24/110 )
================================================================================
Test finished successfully: test/unit/helpers/round_changes.js
Running the test: test/unit/logic/round.js as a separate process - pid 90611

[2J[1;3H[2J[1;3H
  53 passing (970ms)

  19 passing (118ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90539.json]
>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90562.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

  4 passing (85ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90567.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

>> WARNING:  Reverting change of u_username from zoxvq8rqzt to ytutoaew0g
>> WARNING:  Reverting change of username from 4ggp9jycru to w0j0ec8azp
>> WARNING:  Reverting change of u_username from enngulj4fj to s7uqcgvxfm
>> WARNING:  Reverting change of username from tbvddevhmf to vjpzndzyzw

  64 passing (3s)

  37 passing (207ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90553.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90542.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
  0 passing (27ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90573.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 95.38% ( 62/65 )
Branches     : 91.38% ( 53/58 )
Functions    : 100% ( 4/4 )
Lines        : 95.38% ( 62/65 )
================================================================================
Test finished successfully: test/unit/helpers/sort_by.js
Running the test: test/unit/logic/signature.js as a separate process - pid 90620

=============================== Coverage summary ===============================
Statements   : 85.71% ( 6/7 )
Branches     : 0% ( 0/2 )
Functions    : 100% ( 3/3 )
Lines        : 85.71% ( 6/7 )
================================================================================
[2J[1;3HTest finished successfully: test/unit/helpers/z_schema_express.js
Running the test: test/unit/logic/test_data/dapp.js as a separate process - pid 90622

=============================== Coverage summary ===============================
Statements   : 48.16% ( 209/434 )
Branches     : 12.41% ( 18/145 )
Functions    : 18.52% ( 15/81 )
Lines        : 48.38% ( 209/432 )
================================================================================
Test finished successfully: test/unit/api/ws/workers/peers_update_rules.js
Running the test: test/unit/logic/test_data/multisignature.js as a separate process - pid 90625

  8 passing (299ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90552.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 26% ( 13/50 )
Branches     : 0% ( 0/16 )
Functions    : 20% ( 1/5 )
Lines        : 26% ( 13/50 )
================================================================================
Test finished successfully: test/unit/logic/block_reward.js
Running the test: test/unit/logic/test_data/out_transfer.js as a separate process - pid 90627


=============================== Coverage summary ===============================
Statements   : 49.47% ( 139/281 )
Branches     : 30.68% ( 27/88 )
Functions    : 24.07% ( 13/54 )
Lines        : 49.82% ( 139/279 )
================================================================================
Test finished successfully: test/unit/helpers/peers_manager.js
Running the test: test/unit/logic/transaction.js as a separate process - pid 90628
  104 passing (655ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90565.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 65.22% ( 377/578 )
Branches     : 45.31% ( 111/245 )
Functions    : 29.27% ( 36/123 )
Lines        : 67.27% ( 372/553 )
================================================================================
Test finished successfully: test/unit/db/repos/accounts.js
Running the test: test/unit/logic/transaction_pool.js as a separate process - pid 90630

=============================== Coverage summary ===============================
Statements   : 97.96% ( 48/49 )
Branches     : 100% ( 43/43 )
Functions    : 93.33% ( 14/15 )
Lines        : 97.96% ( 48/49 )
================================================================================
Test finished successfully: test/unit/helpers/z_schema.js
Running the test: test/unit/logic/transfer.js as a separate process - pid 90633

=============================== Coverage summary ===============================
Statements   : 24.56% ( 126/513 )
Branches     : 3.94% ( 8/203 )
Functions    : 2.33% ( 2/86 )
Lines        : 25% ( 126/504 )
================================================================================
Test finished successfully: test/unit/helpers/jobs_queue.js
Running the test: test/unit/logic/vote.js as a separate process - pid 90634
[2J[1;3H
  20 passing (220ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90590.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 45.49% ( 106/233 )
Branches     : 32.86% ( 23/70 )
Functions    : 15.56% ( 7/45 )
Lines        : 45.89% ( 106/231 )
================================================================================
Test finished successfully: test/unit/logic/peer.js
Running the test: test/unit/modules/accounts.js as a separate process - pid 90637
[2J[1;3H
  0 passing (2ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90622.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
  0 passing (2ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90625.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
  0 passing (10ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90627.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 80% ( 8/10 )
Branches     : 100% ( 0/0 )
Functions    : 33.33% ( 1/3 )
Lines        : 80% ( 8/10 )
================================================================================
Test finished successfully: test/unit/logic/test_data/dapp.js
Running the test: test/unit/modules/app.js as a separate process - pid 90647

  5 passing (308ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90571.json]

=============================== Coverage summary ===============================
Statements   : 80% ( 8/10 )
Branches     : 100% ( 0/0 )
Functions    : 33.33% ( 1/3 )
Lines        : 80% ( 8/10 )
================================================================================
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
Test finished successfully: test/unit/logic/test_data/multisignature.js
Running the test: test/unit/modules/blocks/api.js as a separate process - pid 90650

=============================== Coverage summary ===============================
Statements   : 80% ( 8/10 )
Branches     : 100% ( 0/0 )
Functions    : 33.33% ( 1/3 )
Lines        : 80% ( 8/10 )
================================================================================
Test finished successfully: test/unit/logic/test_data/out_transfer.js
Running the test: test/unit/modules/blocks/chain.js as a separate process - pid 90655
[2J[1;3H
  56 passing (269ms)

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90630.json]
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================

=============================== Coverage summary ===============================
Statements   : 22.22% ( 384/1728 )
Branches     : 4.55% ( 42/923 )
Functions    : 6.61% ( 16/242 )
Lines        : 22.53% ( 383/1700 )
================================================================================
Test finished successfully: test/unit/logic/block.js
Running the test: test/unit/modules/blocks/process.js as a separate process - pid 90665
[2J[1;3H
=============================== Coverage summary ===============================
Statements   : 47.73% ( 147/308 )
Branches     : 25.22% ( 29/115 )
Functions    : 48.98% ( 24/49 )
Lines        : 47.73% ( 147/308 )
================================================================================
Test finished successfully: test/unit/logic/transaction_pool.js
Running the test: test/unit/modules/blocks/utils.js as a separate process - pid 90674
database connect exception -  Error: Event monitor not attached.
  at Object.detach (/Users/manu/Projects/lisk/node_modules/pg-monitor/lib/index.js:352:19)
  at Object.module.exports.connect.ex [as connect] (/Users/manu/Projects/lisk/db/index.js:9:797)
  at child_process.exec (/Users/manu/Projects/lisk/test/common/db_sandbox.js:69:6)
  at ChildProcess.exithandler (child_process.js:190:7)
  at emitTwo (events.js:106:13)
  at ChildProcess.emit (events.js:191:7)
  at maybeClose (internal/child_process.js:920:16)
  at Process.ChildProcess._handle.onexit (internal/child_process.js:230:5)

[2J[1;3H>> NOTICE:  view "blocks_list" does not exist, skipping
>> NOTICE:  view "full_blocks_list" does not exist, skipping
>> NOTICE:  view "trs_list" does not exist, skipping
[2J[1;3H>> NOTICE:  trigger "protect_mem_accounts" for relation "mem_accounts" does not exist, skipping
>> NOTICE:  function revert_mem_account() does not exist, skipping
>> NOTICE:  ALTER TABLE / ADD CONSTRAINT USING INDEX will rename index "peers_unique" to "address_unique"
[2J[1;3H>> NOTICE:  function rounds_fees_init() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_delete" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_delete() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_insert" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_insert() does not exist, skipping
>> NOTICE:  Calculating fees for rounds, please wait...
>> NOTICE:  index "peers_dapp_unique" does not exist, skipping
[2J[1;3H>> NOTICE:  Calculating rewards for rounds, please wait...
database connect exception -  Error: Event monitor not attached.
  at Object.detach (/Users/manu/Projects/lisk/node_modules/pg-monitor/lib/index.js:352:19)
  at Object.module.exports.connect.ex [as connect] (/Users/manu/Projects/lisk/db/index.js:9:797)
  at child_process.exec (/Users/manu/Projects/lisk/test/common/db_sandbox.js:69:6)
  at ChildProcess.exithandler (child_process.js:190:7)
  at emitTwo (events.js:106:13)
  at ChildProcess.emit (events.js:191:7)
  at maybeClose (internal/child_process.js:920:16)
  at Process.ChildProcess._handle.onexit (internal/child_process.js:230:5)

[2J[1;3H>> NOTICE:  view "blocks_list" does not exist, skipping
>> NOTICE:  view "full_blocks_list" does not exist, skipping
>> NOTICE:  view "trs_list" does not exist, skipping
[2J[1;3H>> NOTICE:  trigger "protect_mem_accounts" for relation "mem_accounts" does not exist, skipping
>> NOTICE:  function revert_mem_account() does not exist, skipping

  112 passing (3s)
  7 pending

>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90611.json]
>> NOTICE:  ALTER TABLE / ADD CONSTRAINT USING INDEX will rename index "peers_unique" to "address_unique"

  103 passing (2s)

>> NOTICE:  function rounds_fees_init() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_delete" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_delete() does not exist, skipping
>> NOTICE:  trigger "rounds_fees_insert" for relation "blocks" does not exist, skipping
>> NOTICE:  function round_fees_insert() does not exist, skipping
>> =============================================================================
>> Writing coverage object [/Users/manu/Projects/lisk/test/.coverage-unit/coverage-90578.json]
>> NOTICE:  Calculating fees for rounds, please wait...
>> /Users/manu/Projects/lisk/node_modules/js-nacl/lib/nacl_factory.js:27
>> var Module;if(!Module)Module=(typeof Module!=="undefined"?Module:null)||{};var moduleOverrides={};for(var key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){if(Module["ENVIRONMENT"]==="WEB"){ENVIRONMENT_IS_WEB=true}else if(Module["ENVIRONMENT"]==="WORKER"){ENVIRONMENT_IS_WORKER=true}else if(Module["ENVIRONMENT"]==="NODE"){ENVIRONMENT_IS_NODE=true}else if(Module["ENVIRONMENT"]==="SHELL"){ENVIRONMENT_IS_SHELL=true}else{throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.")}}else{ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_
>> AssertionError: expected { Object (code, description) } to not exist
>>     at Immediate.err (/Users/manu/Projects/lisk/test/unit/helpers/ws_api.js:184:26)
>>     at runCallback (timers.js:676:20)
>>     at tryOnImmediate (timers.js:645:5)
>>     at processImmediate [as _immediateCallback] (timers.js:617:5)
>> Writing coverage reports at [/Users/manu/Projects/lisk/test/.coverage-unit]
>> =============================================================================
Test failed: test/unit/helpers/ws_api.js
>> Exited with code: 7.
>> Error executing child process: Error: Process exited with code 7.
Warning: Task "exec:mocha:untagged:unit" failed. Use --force to continue.

Aborted due to warnings.
